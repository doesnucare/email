<html class="no-js" lang="en-us">
  <head>
    <meta charset="utf-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
    <title>Does NU CARE?</title>
    <meta name="description" content="Send an email to Northeastern administrators to support a safe and equitable reopening!">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="supported-color-schemes" content="light dark">
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <meta name="theme-color" content="#EC1F27">

    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">
    <link rel="mask-icon" href="safari-pinned-tab.svg" color="#ec1f27">
    <meta name="msapplication-TileColor" content="#ec1f27">
    <meta name="theme-color" content="#ec1f27">

    <!--<link rel="stylesheet" href="https://use.typekit.net/hqc5idp.css">-->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,500;0,600;0,700;0,800&display=swap" rel="stylesheet"> 
  </head>
  <body>
    <header style="background-color:#EC1F27;color:white">
      <section>
        <article class="textual">
          <h1>Does NU CARE?</h1>
          <p>Send an email to Northeastern administrators to voice your support for NU CARE's demands.</p>
        </article>
      </section>
    </header>
    <main class="requires-js" style="background-color:white;color:black">
      <section>
        <article class="textual">
          <div class="group">
            <div class="ksbox half">
              <form>
                <div>
                  <label>Name
                    <input id="name-input" type="text" maxlength="30">
                  </label>
                </div>
                <div>
                  <label>Position
                    <input id="job-input" type="text" maxlength="80" placeholder="Student, Psychology">
                  </label>
                </div>
                <div>
                  <label>Why are you supporting NU CARE?
                    <textarea id="quotation" rows="6" maxlength="400"></textarea>
                  </label>
                </div>
                <div>
                  <button style="background-color:#EC1F27; color:white" id="generate" type="submit">Generate email</button>
                </div>
              </form>
            </div>
            <div class="ksbox half" id="canvasContainer">
              <div>
              <label for="email-to">To:
                <input type="text" readonly id="email-to">
              </label>
            </div>
            <div>
              <label for="email-subject">Subject:
                <input type="text" readonly id="email-subject">
              </label>
            </div>
            <div>
              <textarea readonly id="email-body" rows="20"></textarea>
            </div>
              <!--<canvas id="canvas" width="1600" height="1600" style="max-width:100%; display:none"></canvas><img id="canvasImg" src="img/Example.png">-->
              <div id="save-container" style="display:none">
                <p>
                  Email has been generated! Feel free to adjust it to your liking. When done, either copy and paste the fields into your favorite email client, or press the button below to automatically open an email ready-to-send!
                </p>
                <p><a class="button" id="open">Open Email</a></p>
              </div>
            </div>
          </div>
        </article>
      </section>
    </main>
    <footer style="background-color:#EC1F27;color:white">
      <p>
        Â© 2020 NU CARE
      </p>
    </footer>
  </body>
  <div class="js-warning">This page requires JavaScript! </div>
  
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script>window.jQuery || document.write("<script src="js/vendor/jquery-3.4.1.min.js"><\/script>")</script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />
  <script src="js/vendor/sentencer.js"></script>
  <script src="js/plugins.js"></script>
  <script src="js/email.js"></script>
  <script>
    document.documentElement.className = document.documentElement.className.replace("no-js","js");
  </script>
  <script>
    //When the user clicks "Generate Email", fill in the to, subject, and body textboxes and reveal #save-container div.
    $("#generate").on("click", function() {
      name = $("#name-input").val().trim();
      job = $("#job-input").val().trim();
      quotation = $("#quotation").val().trim();

      var components = generateEmail(name, job, quotation);
      
      $("#email-to").val(components.to);
      $("#email-subject").val(components.subject);
      $("#email-body").val(components.body);

      $("#email-to").attr("readonly", false);
      $("#email-subject").attr("readonly", false);
      $("#email-body").attr("readonly", false);
      
      
      $("#save-container").css("display", "block");
      return false;
    });

    //When the user clicks "Open Email", open the mailto: link
    $("#open").on("click", function() {
      window.open(getMailtoUrl(
        $("#email-to").val().trim(),
        $("#email-subject").val().trim(),
        $("#email-body").val().trim()));
      return false;
    });
  </script>
</html>
